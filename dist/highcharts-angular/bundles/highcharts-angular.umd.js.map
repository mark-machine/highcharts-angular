{"version":3,"file":"highcharts-angular.umd.js","sources":["ng://highcharts-angular/lib/highcharts-chart.component.ts","ng://highcharts-angular/lib/highcharts-chart.module.ts"],"sourcesContent":["import { Component, ElementRef, EventEmitter, Input, OnDestroy, Output, NgZone } from '@angular/core';\nimport * as Highcharts from 'highcharts';\n\n@Component({\n  selector: 'highcharts-chart',\n  template: ''\n})\nexport class HighchartsChartComponent implements OnDestroy {\n  @Input() Highcharts: typeof Highcharts;\n  @Input() constructorType: string;\n  @Input() callbackFunction: Highcharts.ChartCallbackFunction;\n  @Input() oneToOne: boolean; // #20\n  @Input() runOutsideAngular: boolean; // #75\n\n  @Input() set options(val: Highcharts.Options) {\n    this.optionsValue = val;\n    this.wrappedUpdateOrCreateChart();\n  }\n  @Input() set update(val: boolean) {\n    if (val) {\n      this.wrappedUpdateOrCreateChart();\n      this.updateChange.emit(false); // clear the flag after update\n    }\n  }\n\n  @Output() updateChange = new EventEmitter<boolean>(true);\n  @Output() chartInstance = new EventEmitter<Highcharts.Chart>(); // #26\n\n  private chart: Highcharts.Chart;\n  private optionsValue: Highcharts.Options;\n\n  constructor(\n    private el: ElementRef,\n    private _zone: NgZone // #75\n  ) {}\n\n  wrappedUpdateOrCreateChart() { // #75\n    if (this.runOutsideAngular) {\n      this._zone.runOutsideAngular(() => {\n        this.updateOrCreateChart()\n      });\n    } else {\n      this.updateOrCreateChart();\n    }\n  }\n\n  updateOrCreateChart() {\n    if (this.chart && this.chart.update) {\n      this.chart.update(this.optionsValue, true, this.oneToOne || false);\n    } else {\n      this.chart = (this.Highcharts as any)[this.constructorType || 'chart'](\n        this.el.nativeElement,\n        this.optionsValue,\n        this.callbackFunction || null\n      );\n\n      // emit chart instance on init\n      this.chartInstance.emit(this.chart);\n    }\n  }\n\n  ngOnDestroy() { // #44\n    if (this.chart) {  // #56\n      this.chart.destroy();\n      this.chart = null;\n    }\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {HighchartsChartComponent} from './highcharts-chart.component';\n\n@NgModule({\n  declarations: [ HighchartsChartComponent ],\n  exports: [ HighchartsChartComponent ]\n})\nexport class HighchartsChartModule {}\n"],"names":["EventEmitter","Component","Input","Output","NgModule"],"mappings":";;;;;;;QA+BE,kCACU,EAAc,EACd,KAAa;;YADb,OAAE,GAAF,EAAE,CAAY;YACd,UAAK,GAAL,KAAK,CAAQ;YARb,iBAAY,GAAG,IAAIA,iBAAY,CAAU,IAAI,CAAC,CAAC;YAC/C,kBAAa,GAAG,IAAIA,iBAAY,EAAoB,CAAC;SAQ3D;QApBJ,sBAAa,6CAAO;iBAApB,UAAqB,GAAuB;gBAC1C,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC;gBACxB,IAAI,CAAC,0BAA0B,EAAE,CAAC;aACnC;;;WAAA;QACD,sBAAa,4CAAM;iBAAnB,UAAoB,GAAY;gBAC9B,IAAI,GAAG,EAAE;oBACP,IAAI,CAAC,0BAA0B,EAAE,CAAC;oBAClC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAC/B;aACF;;;WAAA;QAaD,6DAA0B,GAA1B;YAAA,iBAQC;YAPC,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBAC1B,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC;oBAC3B,KAAI,CAAC,mBAAmB,EAAE,CAAA;iBAC3B,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,mBAAmB,EAAE,CAAC;aAC5B;SACF;QAED,sDAAmB,GAAnB;YACE,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;gBACnC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC;aACpE;iBAAM;gBACL,IAAI,CAAC,KAAK,GAAI,IAAI,CAAC,UAAkB,CAAC,IAAI,CAAC,eAAe,IAAI,OAAO,CAAC,CACpE,IAAI,CAAC,EAAE,CAAC,aAAa,EACrB,IAAI,CAAC,YAAY,EACjB,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAC9B,CAAC;;gBAGF,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACrC;SACF;QAED,8CAAW,GAAX;YACE,IAAI,IAAI,CAAC,KAAK,EAAE;gBACd,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;gBACrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;aACnB;SACF;wGA3DU,wBAAwB;0EAAxB,wBAAwB;uCAPrC;KAGA,IAgEC;2DA5DY,wBAAwB;kBAJpCC,cAAS;mBAAC;oBACT,QAAQ,EAAE,kBAAkB;oBAC5B,QAAQ,EAAE,EAAE;iBACb;;sBAEEC,UAAK;;sBACLA,UAAK;;sBACLA,UAAK;;sBACLA,UAAK;;sBACLA,UAAK;;sBAELA,UAAK;;sBAILA,UAAK;;sBAOLC,WAAM;;sBACNA,WAAM;;;;QCvBT;SAIqC;sEAAxB,qBAAqB;sIAArB,qBAAqB;oCAPlC;KAGA,IAIqC;iGAAxB,qBAAqB,mBAHhB,wBAAwB,aAC7B,wBAAwB;2DAExB,qBAAqB;kBAJjCC,aAAQ;mBAAC;oBACR,YAAY,EAAE,CAAE,wBAAwB,CAAE;oBAC1C,OAAO,EAAE,CAAE,wBAAwB,CAAE;iBACtC;;;;;;;;;;;;;;"}