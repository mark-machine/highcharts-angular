{"version":3,"sources":["ng://highcharts-angular/lib/highcharts-chart.component.ts","ng://highcharts-angular/lib/highcharts-chart.module.ts"],"names":["HighchartsChartComponent","el","_zone","this","updateChange","EventEmitter","chartInstance","Object","defineProperty","prototype","val","optionsValue","wrappedUpdateOrCreateChart","emit","_this","runOutsideAngular","updateOrCreateChart","chart","update","oneToOne","Highcharts","constructorType","nativeElement","callbackFunction","ngOnDestroy","destroy","core","ElementRef","NgZone","selectors","inputs","options","outputs","decls","vars","template","rf","ctx","encapsulation","HighchartsChartModule","declarations","exports"],"mappings":"iVA+BE,SAAAA,EACUC,EACAC,GADAC,KAAAF,GAAAA,EACAE,KAAAD,MAAAA,EARAC,KAAAC,aAAe,IAAIC,EAAAA,cAAsB,GACzCF,KAAAG,cAAgB,IAAID,EAAAA,oBAZ9BE,OAAAC,eAAaR,EAAAS,UAAA,UAAO,KAApB,SAAqBC,GACnBP,KAAKQ,aAAeD,EACpBP,KAAKS,8DAEPL,OAAAC,eAAaR,EAAAS,UAAA,SAAM,KAAnB,SAAoBC,GACdA,IACFP,KAAKS,6BACLT,KAAKC,aAAaS,MAAK,qCAe3Bb,EAAAS,UAAAG,2BAAA,WAAA,IAAAE,EAAAX,KACMA,KAAKY,kBACPZ,KAAKD,MAAMa,mBAAkB,WAC3BD,EAAKE,yBAGPb,KAAKa,uBAIThB,EAAAS,UAAAO,oBAAA,WACMb,KAAKc,OAASd,KAAKc,MAAMC,OAC3Bf,KAAKc,MAAMC,OAAOf,KAAKQ,cAAc,EAAMR,KAAKgB,WAAY,IAE5DhB,KAAKc,MAASd,KAAKiB,WAAmBjB,KAAKkB,iBAAmB,SAC5DlB,KAAKF,GAAGqB,cACRnB,KAAKQ,aACLR,KAAKoB,kBAAoB,MAI3BpB,KAAKG,cAAcO,KAAKV,KAAKc,SAIjCjB,EAAAS,UAAAe,YAAA,WACMrB,KAAKc,QACPd,KAAKc,MAAMQ,UACXtB,KAAKc,MAAQ,wCAzDNjB,GAAwB0B,EAAA,qBAAAA,EAAAC,YAAAD,EAAA,qBAAAA,EAAAE,8CAAxB5B,EAAwB6B,UAAA,CAAA,CAAA,qBAAAC,OAAA,CAAAV,WAAA,aAAAC,gBAAA,kBAAAE,iBAAA,mBAAAJ,SAAA,WAAAJ,kBAAA,oBAAAgB,QAAA,UAAAb,OAAA,UAAAc,QAAA,CAAA5B,aAAA,eAAAE,cAAA,iBAAA2B,MAAA,EAAAC,KAAA,EAAAC,SAAA,SAAAC,EAAAC,KAAAC,cAAA,sBCJrC,SAAAC,+CAIaA,oEAAAA,+EAAAA,EAAqB,CAAAC,aAAA,CAHhBxC,GAAwByC,QAAA,CAC7BzC","sourcesContent":["import { Component, ElementRef, EventEmitter, Input, OnDestroy, Output, NgZone } from '@angular/core';\nimport * as Highcharts from 'highcharts';\n\n@Component({\n  selector: 'highcharts-chart',\n  template: ''\n})\nexport class HighchartsChartComponent implements OnDestroy {\n  @Input() Highcharts: typeof Highcharts;\n  @Input() constructorType: string;\n  @Input() callbackFunction: Highcharts.ChartCallbackFunction;\n  @Input() oneToOne: boolean; // #20\n  @Input() runOutsideAngular: boolean; // #75\n\n  @Input() set options(val: Highcharts.Options) {\n    this.optionsValue = val;\n    this.wrappedUpdateOrCreateChart();\n  }\n  @Input() set update(val: boolean) {\n    if (val) {\n      this.wrappedUpdateOrCreateChart();\n      this.updateChange.emit(false); // clear the flag after update\n    }\n  }\n\n  @Output() updateChange = new EventEmitter<boolean>(true);\n  @Output() chartInstance = new EventEmitter<Highcharts.Chart>(); // #26\n\n  private chart: Highcharts.Chart;\n  private optionsValue: Highcharts.Options;\n\n  constructor(\n    private el: ElementRef,\n    private _zone: NgZone // #75\n  ) {}\n\n  wrappedUpdateOrCreateChart() { // #75\n    if (this.runOutsideAngular) {\n      this._zone.runOutsideAngular(() => {\n        this.updateOrCreateChart()\n      });\n    } else {\n      this.updateOrCreateChart();\n    }\n  }\n\n  updateOrCreateChart() {\n    if (this.chart && this.chart.update) {\n      this.chart.update(this.optionsValue, true, this.oneToOne || false);\n    } else {\n      this.chart = (this.Highcharts as any)[this.constructorType || 'chart'](\n        this.el.nativeElement,\n        this.optionsValue,\n        this.callbackFunction || null\n      );\n\n      // emit chart instance on init\n      this.chartInstance.emit(this.chart);\n    }\n  }\n\n  ngOnDestroy() { // #44\n    if (this.chart) {  // #56\n      this.chart.destroy();\n      this.chart = null;\n    }\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {HighchartsChartComponent} from './highcharts-chart.component';\n\n@NgModule({\n  declarations: [ HighchartsChartComponent ],\n  exports: [ HighchartsChartComponent ]\n})\nexport class HighchartsChartModule {}\n"]}